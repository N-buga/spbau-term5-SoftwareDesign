# spbau-term5-SoftwareDesign
HW for SD.
# Rogue
Весь код разделён на 3 части - модель, контроллер и UI, соответсвенно. Контроллер и UI не сложные сами по себе и выполняют стандартные для них роли.
Более интересная часть - это модель. Она находится в отдельном пакете Model. В игре есть как статические объекты(инвентарь\стены\пустые клетки), так и движущиеся объекты, причём движущиеся имеют отдельный функционал - отсюда иерархия классов MapObject <- Character. Гле первое - базовый класс для всех объектов на карте(например, все объекты на карте имеют свой символ, чтобы отрисовываться и свою позицию), а второе - базовый класс всех движущихся, а вернее, имеющих ход объектов(в общем главное, что там есть - функция doTurn()).
Так же есть интерфейс Turn, который описывает, чем должны обладать все виды хода. В текущей версии игры, мы можем только пытаться передвигаться, поэтому от него наследуется всего один класс Move. Но в будущем мы можем захотеть стрелять, или возможно использовать заклинания.
Move параметризован позицией, куда мы хотим походить и, если там есть кто-то другой из персонажей, то текущий персонаж его атакует.
Мобы настроены агрессивно друг к другу, то есть они могут убивать друг друга.
GameState - это класс, хранящий в себе состояние игры и регулирующий его корректность. Он умеет эмулировать один раунд игры(то есть ход всех персонажей). После этого удаляет убитых.
GameBuilder - класс, который умеет создавать GameState. Здесь есть как методы добавления объектов на карту по одному(если реализовать считывание карты с файла, такой метод будет удобен), так и генерация случйного лабиринта с мобами и вещами.
В данной версии считается, что когда ты берёшь вещь, то она влияет на твои характеристики раз и навсегда.
# Gameplay
Чтобы ходить персонажем надо ввести символы 'w', 'a', 's', или 'd' и нажать Enter. Можно ввести любую строчку, но считываться будет только первый символ. Если он не совпадает с одним из этих 4, то герой останется на месте, но ход потратится.
Если герой хочет пойти а клетку, где уже стоит моб, то он бьёт моба со всей своей силы.
Если герой зашёл на клетку с вещью, он автоматически применяет её, то есть его базовые характеристики увеличиваюются(по крайней мере не уменьшаются).
После изображения поля есть список всех характеристик мобов в поле видимости, а также характеристики самого героя. Характеристики вещи герой не видит, пока не возьмёт её.
Герой побеждает, если уничтожены все монстры. Проигрывает, если он убит.
# Patterns
1. Строитель для создания GameState.
2. Рекурсивная композиция для Cell.
3. Можно переписать под стратегию для алгоритма создания GameState.
4. Controller - фасад.
5. Функция Comparator в TreeSet у Cell(которая стравнивает объекты по приоритетам) является шаблонной функцией.
6. Turn использует паттерн команда.

